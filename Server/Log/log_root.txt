2016-05-26 00:10:31,982 [17] DEBUG Global [(null)] - TimerWorker
2016-05-26 00:10:31,997 [17] DEBUG NotificationMananger [(null)] - sleep 5 seconds
2016-05-26 00:10:31,999 [17] DEBUG NotificationMananger [(null)] - 继续执行
2016-05-26 00:10:32,099 [17] DEBUG NotificationMananger [(null)] - check userid = 0001, platform = ios, badeg = 2 approvals
2016-05-26 00:10:32,102 [17] DEBUG ApprovalService [(null)] - SELECT top 10000
                                                    xh as id, 
                                                    shgjz as keyword, 
                                                    bssj as reportDate, 
                                                    (SELECT name FROM rs_employee where rs_employee.e_no = bsry) as reporter, 
                                                    shdx as approvalObject, 
                                                    spjg as approvalResult,
                                                    je as amount, [status], 
                                                    shlx as type  
                                                        FROM [dbo].[t_spjl] where  t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  and xh not in ( select top 0 xh from [dbo].[t_spjl] where t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  order by bssj desc ) order by bssj desc 
2016-05-26 00:10:32,192 [17] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20415 has sent
2016-05-26 00:10:32,208 [17] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20407 has sent
2016-05-26 00:10:41,908 [43] DEBUG Global [(null)] - TimerWorker
2016-05-26 00:10:41,908 [43] DEBUG NotificationMananger [(null)] - sleep 0 seconds
2016-05-26 00:10:41,908 [43] DEBUG NotificationMananger [(null)] - 继续执行
2016-05-26 00:10:41,942 [43] DEBUG NotificationMananger [(null)] - check userid = 0001, platform = ios, badeg = 2 approvals
2016-05-26 00:10:41,943 [43] DEBUG ApprovalService [(null)] - SELECT top 10000
                                                    xh as id, 
                                                    shgjz as keyword, 
                                                    bssj as reportDate, 
                                                    (SELECT name FROM rs_employee where rs_employee.e_no = bsry) as reporter, 
                                                    shdx as approvalObject, 
                                                    spjg as approvalResult,
                                                    je as amount, [status], 
                                                    shlx as type  
                                                        FROM [dbo].[t_spjl] where  t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  and xh not in ( select top 0 xh from [dbo].[t_spjl] where t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  order by bssj desc ) order by bssj desc 
2016-05-26 00:10:42,010 [43] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20415 has sent
2016-05-26 00:10:42,025 [43] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20407 has sent
2016-05-26 00:10:51,922 [17] DEBUG Global [(null)] - TimerWorker
2016-05-26 00:10:51,923 [17] DEBUG NotificationMananger [(null)] - sleep 9 seconds
2016-05-26 00:10:51,925 [17] DEBUG NotificationMananger [(null)] - 继续执行
2016-05-26 00:10:51,942 [17] DEBUG NotificationMananger [(null)] - check userid = 0001, platform = ios, badeg = 2 approvals
2016-05-26 00:10:51,943 [17] DEBUG ApprovalService [(null)] - SELECT top 10000
                                                    xh as id, 
                                                    shgjz as keyword, 
                                                    bssj as reportDate, 
                                                    (SELECT name FROM rs_employee where rs_employee.e_no = bsry) as reporter, 
                                                    shdx as approvalObject, 
                                                    spjg as approvalResult,
                                                    je as amount, [status], 
                                                    shlx as type  
                                                        FROM [dbo].[t_spjl] where  t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  and xh not in ( select top 0 xh from [dbo].[t_spjl] where t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  order by bssj desc ) order by bssj desc 
2016-05-26 00:10:52,017 [17] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20415 has sent
2016-05-26 00:10:52,032 [17] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20407 has sent
2016-05-26 00:11:01,922 [15] DEBUG Global [(null)] - TimerWorker
2016-05-26 00:11:01,923 [15] DEBUG NotificationMananger [(null)] - sleep 9 seconds
2016-05-26 00:11:01,924 [15] DEBUG NotificationMananger [(null)] - 继续执行
2016-05-26 00:11:01,939 [15] DEBUG NotificationMananger [(null)] - check userid = 0001, platform = ios, badeg = 2 approvals
2016-05-26 00:11:01,940 [15] DEBUG ApprovalService [(null)] - SELECT top 10000
                                                    xh as id, 
                                                    shgjz as keyword, 
                                                    bssj as reportDate, 
                                                    (SELECT name FROM rs_employee where rs_employee.e_no = bsry) as reporter, 
                                                    shdx as approvalObject, 
                                                    spjg as approvalResult,
                                                    je as amount, [status], 
                                                    shlx as type  
                                                        FROM [dbo].[t_spjl] where  t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  and xh not in ( select top 0 xh from [dbo].[t_spjl] where t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  order by bssj desc ) order by bssj desc 
2016-05-26 00:11:02,007 [15] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20415 has sent
2016-05-26 00:11:02,024 [15] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20407 has sent
2016-05-26 00:11:11,926 [12] DEBUG Global [(null)] - TimerWorker
2016-05-26 00:11:11,928 [12] DEBUG NotificationMananger [(null)] - sleep 5 seconds
2016-05-26 00:11:11,929 [12] DEBUG NotificationMananger [(null)] - 继续执行
2016-05-26 00:11:11,945 [12] DEBUG NotificationMananger [(null)] - check userid = 0001, platform = ios, badeg = 2 approvals
2016-05-26 00:11:11,946 [12] DEBUG ApprovalService [(null)] - SELECT top 10000
                                                    xh as id, 
                                                    shgjz as keyword, 
                                                    bssj as reportDate, 
                                                    (SELECT name FROM rs_employee where rs_employee.e_no = bsry) as reporter, 
                                                    shdx as approvalObject, 
                                                    spjg as approvalResult,
                                                    je as amount, [status], 
                                                    shlx as type  
                                                        FROM [dbo].[t_spjl] where  t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  and xh not in ( select top 0 xh from [dbo].[t_spjl] where t_spjl.spry = @userId 
                                            AND  t_spjl.enabled = '1' AND bssj >= '2012-04-17' AND bssj <= '2016-05-26' and t_spjl.status = '待批'  order by bssj desc ) order by bssj desc 
2016-05-26 00:11:12,015 [12] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20415 has sent
2016-05-26 00:11:12,032 [12] DEBUG NotificationMananger [(null)] - userid = 0001, approvalid = 20407 has sent
